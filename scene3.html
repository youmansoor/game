<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>404: ERROR – Terminal (Mobile Friendly)</title>
  <style>
    body {
      margin: 0;
      background: #000;
      color: #0f0;
      font-family: monospace;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      -webkit-tap-highlight-color: transparent; /* removes tap highlight on mobile */
    }
    #terminal {
      width: 90%;
      max-width: 800px;
      height: 80vh; /* use vh for better mobile height */
      border: 2px solid #0f0;
      padding: 12px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      border-radius: 8px;
      background: #000;
      /* add a subtle shadow for better visibility */
      box-shadow: 0 0 15px #0f0aa0;
    }
    #output {
      flex: 1;
      overflow-y: auto;
      white-space: pre-wrap;
      padding-right: 10px;
      user-select: text; /* allow user to copy text */
      -webkit-overflow-scrolling: touch; /* smooth scrolling on iOS */
      font-size: 1rem;
      line-height: 1.3;
    }
    #input-line {
      display: flex;
      margin-top: 10px;
    }
    #prompt {
      margin-right: 8px;
      font-size: 1.1rem;
      flex-shrink: 0;
      user-select: none;
      align-self: center;
    }
    #cmdline {
      background: transparent;
      border: none;
      color: #0f0;
      outline: none;
      flex: 1;
      font-family: monospace;
      font-size: 1.2rem;
      padding: 8px 6px;
      border-radius: 4px;
      user-select: text;
      /* prevent autocorrect on mobile */
      -webkit-text-security: none;
    }

    /* Make input larger and easier to tap on mobile */
    @media (max-width: 500px) {
      #cmdline {
        font-size: 1.4rem;
        padding: 12px 8px;
      }
      #prompt {
        font-size: 1.3rem;
        margin-right: 10px;
      }
      #terminal {
        height: 85vh;
        padding: 15px;
      }
      #output {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div id="terminal" role="region" aria-label="Terminal emulator">
    <div id="output" aria-live="polite">Welcome to the Terminal. Type something…</div>
    <div id="input-line">
      <span id="prompt" aria-hidden="true">C:\></span>
      <input
        type="text"
        id="cmdline"
        autofocus
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
        aria-label="Terminal command input"
      />
    </div>
  </div>

  <script>
    const cmdline = document.getElementById('cmdline');
    const output = document.getElementById('output');
    const synth = window.speechSynthesis;

    function speak(text) {
      const msg = new SpeechSynthesisUtterance(text);
      msg.rate = 1;
      msg.pitch = 1;
      synth.speak(msg);
    }

    function appendOutput(text) {
      output.textContent += '\n' + text;
      output.scrollTop = output.scrollHeight;
    }

    cmdline.addEventListener('keydown', e => {
      if (e.key === 'Enter') {
        const cmd = cmdline.value.trim();
        appendOutput(`C:\\> ${cmd}`);
        cmdline.value = '';

        if (!cmd) {
          appendOutput('You typed nothing. Bold move.');
          speak('Try something. Or don’t.');
        } else if (cmd.toLowerCase() === 'there is no game') {
          appendOutput('…loading next phase…');
          speak('You know the words! Proceeding...');
          setTimeout(() => {
            window.location.href = 'scene4.html';
          }, 2000);
        } else {
          appendOutput(`Unrecognized command: ${cmd}`);
          speak(`Command ${cmd}? Nope.`);
        }
      }
    });

    let hintGiven = false;

    function giveHint() {
      if (!hintGiven) {
        appendOutput('\nHint: Sometimes the truth is hidden in plain sight...');
        speak('Try typing "there is no game" to proceed.');
        hintGiven = true;
      }
    }

    // Set a timeout for 7 seconds after page load
    let hintTimer = setTimeout(giveHint, 7000);

    // Optional: reset the hint timer on user input, so hint only shows if idle
    cmdline.addEventListener('keydown', () => {
      if (!hintGiven) {
        clearTimeout(hintTimer);
      }
    });
  </script>
</body>
</html>