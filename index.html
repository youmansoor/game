<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>There Is No Game - Custom Edition</title>
  <style>
    /* Base Styles */
    body {
      background: #111;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      user-select: none;
      overflow: hidden;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 0;
    }
    #subtitle {
      font-size: 1.2rem;
      margin-bottom: 40px;
      color: #aaa;
    }
    #btnContainer {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    button {
      padding: 15px 30px;
      font-size: 1.2rem;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background: #222;
      color: #eee;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background: #555;
    }
    #messageBox {
      margin-top: 40px;
      font-size: 1.5rem;
      height: 2em;
      min-width: 300px;
      text-align: center;
    }
    .glitch {
      animation: glitchAnimation 1s infinite;
    }
    @keyframes glitchAnimation {
      0%, 100% { text-shadow: 2px 2px red, -2px -2px blue; }
      50% { text-shadow: -2px -2px red, 2px 2px blue; }
    }
    @keyframes shake {
      0% { transform: translate(0,0); }
      20% { transform: translate(-5px,5px); }
      40% { transform: translate(5px,-5px); }
      60% { transform: translate(-5px,-5px); }
      80% { transform: translate(5px,5px); }
      100% { transform: translate(0,0); }
    }
    .shake {
      animation: shake 0.5s;
    }

    /* Modal, loading, finale screens */
    #loadingScreen, #errorModal, #finaleScreen, #theEnd {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #loadingScreen, #finaleScreen, #theEnd {
      background: #000;
      color: #0f0;
      flex-direction: column;
      font-family: monospace;
      display: none;
    }
    #loadingBarContainer, #finaleBarContainer {
      width: 300px;
      height: 25px;
      background: #222;
      border-radius: 12px;
      overflow: hidden;
      margin-top: 20px;
      box-shadow: 0 0 5px #0f0;
    }
    #loadingBar, #finaleBar {
      width: 0%;
      height: 100%;
      background: #0f0;
      transition: width 0.3s ease;
    }
    #theEnd {
      color: white;
      font-size: 3rem;
      font-family: monospace;
      z-index: 10001;
    }

    /* Error modal */
    #errorModal {
      background: rgba(0, 0, 0, 0.6);
    }
    #errorWindow {
      width: 300px;
      background: #222;
      color: #eee;
      border: 2px solid #f00;
      border-radius: 8px;
      box-shadow: 0 0 20px red;
      font-family: monospace;
    }
    #errorHeader {
      padding: 10px;
      background: #400;
      cursor: move;
      font-weight: bold;
    }
    #errorBody {
      padding: 15px;
    }
    #errorBody button {
      padding: 8px 20px;
      background: #900;
      color: #fff;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 10px;
    }

    .hidden { display: none !important; }

    /* Unlock input section */
    #unlockSection {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 60px;
    }
    #unlockInput {
      padding: 10px;
      margin-top: 10px;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      width: 200px;
      text-align: center;
    }
    #unlockBtn {
      margin-top: 10px;
      padding: 10px 20px;
      background: #333;
      color: #fff;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 6px;
    }
  </style>
</head>
<body>

<h1>There Is No Game</h1>
<div id="subtitle">Click buttons if you want, but there’s nothing here.</div>

<div id="btnContainer">
  <button id="btnStart">Start Game</button>
  <button id="btnSecret">Secret Button</button>
  <button id="btnPuzzle">Click Me</button>
</div>

<div id="messageBox"></div>

<!-- Error Modal -->
<div id="errorModal" class="hidden">
  <div id="errorWindow">
    <div id="errorHeader">⚠ Error #404 - Game Crash</div>
    <div id="errorBody">
      <p>The game has crashed! Just kidding... or maybe not.</p>
      <button id="closeError">Close</button>
    </div>
  </div>
</div>

<!-- Unlock -->
<div id="unlockSection">
  <div id="puzzleMessage">🔒 This section is locked. Enter the secret word:</div>
  <input type="text" id="unlockInput" placeholder="Type here..." />
  <button id="unlockBtn">Unlock</button>
</div>

<!-- Loading & Finale -->
<div id="loadingScreen">
  <div>Loading... Please wait</div>
  <div id="loadingBarContainer"><div id="loadingBar"></div></div>
</div>

<div id="finaleScreen" class="hidden">
  <h2>🎮 The Real Game is Loading...</h2>
  <div id="finaleBarContainer"><div id="finaleBar"></div></div>
</div>

<div id="theEnd" class="hidden">
  <h1>THE END</h1>
  <p>There. Was. No. Game.</p>
</div>

<script>
  const beep = new Audio('https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg');

  function speak(text, rate = 1, pitch = 1, voiceName = null) {
    const msg = new SpeechSynthesisUtterance(text);
    msg.rate = rate;
    msg.pitch = pitch;
    if (voiceName) {
      const voice = speechSynthesis.getVoices().find(v => v.name.includes(voiceName));
      if (voice) msg.voice = voice;
    }
    speechSynthesis.speak(msg);
  }

  const btnStart = document.getElementById('btnStart');
  const btnSecret = document.getElementById('btnSecret');
  const btnPuzzle = document.getElementById('btnPuzzle');
  const messageBox = document.getElementById('messageBox');
  const loadingScreen = document.getElementById('loadingScreen');
  const loadingBar = document.getElementById('loadingBar');
  const unlockInput = document.getElementById('unlockInput');
  const unlockBtn = document.getElementById('unlockBtn');
  const puzzleMessage = document.getElementById('puzzleMessage');
  const errorModal = document.getElementById('errorModal');
  const closeError = document.getElementById('closeError');
  const finaleScreen = document.getElementById('finaleScreen');
  const finaleBar = document.getElementById('finaleBar');
  const theEnd = document.getElementById('theEnd');

  let gameStarted = false;
  let dodgeCount = 0;
  let maxDodges = 5;

  function showMessage(text, glitch = false) {
    messageBox.textContent = text;
    messageBox.classList.toggle('glitch', glitch);
  }

  function shakeScreen() {
    document.body.classList.add('shake');
    setTimeout(() => document.body.classList.remove('shake'), 500);
  }

  function fakeLoading(callback) {
    loadingScreen.style.display = 'flex';
    loadingBar.style.width = '0%';
    let progress = 0;
    const interval = setInterval(() => {
      progress += Math.random() * 20 + 10;
      if (progress >= 100) progress = 100;
      loadingBar.style.width = progress + '%';
      if (progress === 100) {
        clearInterval(interval);
        setTimeout(() => {
          loadingScreen.style.display = 'none';
          callback();
        }, 500);
      }
    }, 300);
  }

  btnStart.addEventListener('click', () => {
    beep.play();
    shakeScreen();
    if (!gameStarted) {
      speak("No game detected. Please go away.");
      fakeLoading(() => {
        showMessage("...You thought there would be a game? Nope.", true);
        btnStart.textContent = "Keep Trying";
        gameStarted = true;
      });
    } else {
      speak("Still no game. This is getting awkward.");
      showMessage("Still no game. Try something else.", true);
    }
  });

  btnSecret.addEventListener('click', () => {
    beep.play();
    shakeScreen();
    if (!gameStarted) {
      showMessage("Nope, the secret is... no secret!", true);
    } else {
      showMessage("Alright, you found the secret! But there's still no game!", false);
    }
  });

  btnPuzzle.addEventListener('mouseover', () => {
    if (dodgeCount < maxDodges) {
      const x = Math.random() * (window.innerWidth - btnPuzzle.offsetWidth);
      const y = Math.random() * (window.innerHeight - btnPuzzle.offsetHeight);
      btnPuzzle.style.position = 'absolute';
      btnPuzzle.style.left = `${x}px`;
      btnPuzzle.style.top = `${y}px`;
      dodgeCount++;
      showMessage(`Nice try! (${dodgeCount}/${maxDodges})`, true);
      beep.play();
      shakeScreen();
    } else {
      btnPuzzle.textContent = "Fine. Click me.";
      btnPuzzle.style.position = 'static';
    }
  });

  btnPuzzle.addEventListener('click', () => {
    if (dodgeCount >= maxDodges) {
      showMessage("You broke the button! But… still no game!", true);
      beep.play();
      shakeScreen();
      btnPuzzle.disabled = true;
    }
  });

  // Error modal prank after 10s
  setTimeout(() => {
    errorModal.classList.remove('hidden');
    beep.play();
    shakeScreen();
  }, 10000);

  closeError.addEventListener('click', () => {
    errorModal.classList.add('hidden');
    showMessage("Crisis averted. But still no game.", true);
  });

  // Make error draggable
  dragElement(document.getElementById("errorWindow"));

  function dragElement(el) {
    const header = document.getElementById("errorHeader");
    let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

    header.onmousedown = e => {
      e.preventDefault();
      pos3 = e.clientX;
      pos4 = e.clientY;
      document.onmouseup = () => document.onmousemove = null;
      document.onmousemove = e => {
        e.preventDefault();
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        el.style.top = (el.offsetTop - pos2) + "px";
        el.style.left = (el.offsetLeft - pos1) + "px";
        el.style.position = "absolute";
      };
    };
  }

  unlockBtn.addEventListener('click', () => {
    const word = unlockInput.value.trim().toUpperCase();
    if (word === "UNLOCK") {
  showMessage("Wait... how did you actually solve it?! 😨", true);
  speak("You. Actually. Solved it. Uh oh.");
  puzzleMessage.textContent = "✅ Access granted. But... still no game.";
  unlockInput.disabled = true;
  unlockBtn.disabled = true;
  beep.play();
  shakeScreen();

  setTimeout(() => {
    speak("Fine. You win. Starting the real game now...");
    
    // 🔁 OLD:
    // showFinale();

    // ✅ NEW:
    window.location.href = "scene2.html";

  }, 2000);
}
 else if (word === "") {
      showMessage("Try typing something.", false);
    } else {
      showMessage("Nope. That’s not it. Try harder.", true);
      shakeScreen();
      beep.play();
    }
  });
let secretClicks = 0;
const secretPassword = "UNLOCK"; // the password to unlock

btnSecret.addEventListener('click', () => {
  beep.play();
  shakeScreen();
  secretClicks++;
  if (!gameStarted) {
    if (secretClicks >= 3) {
      showMessage("Hint: The secret word is 'unlock'... shhh 🤫", false);
    } else {
      showMessage("Nope, the secret is... no secret!", true);
    }
  } else {
    showMessage("Alright, you found the secret! But there's still no game!", false);
  }
});

  function showFinale() {
    finaleScreen.classList.remove('hidden');
    let progress = 0;
    const interval = setInterval(() => {
      progress += Math.random() * 15;
      if (progress >= 100) progress = 100;
      finaleBar.style.width = progress + '%';
      if (progress === 100) {
        clearInterval(interval);
        speak("Just kidding. There. Is. Still. No. Game.");
        finaleScreen.classList.add('hidden');
        theEnd.classList.remove('hidden');
      }
    }, 400);
  }
</script>
</body>
</html>